## React 복습

- react.js 에 관해 간단히 복습
- 반드시 알아야하는 기초 핵심기능 위주로 학습


- UI 를 개발하는 라이브러리( React )


- React 를 사용하면 백그라운드에서 코드를 변환하는 작업이 일어난다( 컴파일 작업 )


- CreateReactApp 이나 vite 를 이용하여 React 프로젝트를 생성할 수 있다
  - CreateReactApp 으로 생성한 프로젝트일 경우, .js 확장자의 컴포넌트를 지원하지만,
  - vite 를 이용하여 생성한 프로젝트일 경우, 반드시 확장자를 .jsx 로 지정해야 컴포넌트를 읽는다


> StrictMode
> 
> react 에서 해당 구문안에 작성하면, 작성한 코드가 최적인지 체크해주는 구문이다
> 
> 또는, 리액트가 업데이트 되었을때, 경고를 주는 역할을 한다

- 컴포넌트를 import 하는곳( <App /> 등 )에선 반드시 대문자를 사용해야 한다
  - jsx 코드에서 소문자로 시작하는건 기본 html 로 간주하기 때문이다


- useState 등으로 내부 primitive 가아닌 value 의 상태를 업데이트할때는( 배열에 값추가등 ), 
  - 화살표함수등을 이용하여 감싸서 업데이트 시켜줘야한다
  - 왜냐하면, 리액트 내부에서 useState 등의 상태업데이트는 eventLoop 안에 저장되어 비동기로 처리되기 때문이다
  - 이때문에, primitive 가 아닌 value 상태를 업데이트할때는, 최신상태의 value 값을 가져와 업데이트시켜야한다


- React 에서 state 값이 업데이트된다면, 해당하는 컴포넌트 함수 자체를 다시실행한다
  - 따라서, fetch 등으로 데이터를 불러와, 직접 해당 값을 업데이트한다면, 무한루프가 발생한다
  - ( 해당하는 컴포넌트가 재실행되고, 해당 fetch 함수도 다시실행될것이기 때문 )


- 따라서, 이럴경우 useEffect hook 을 사용한다
  - 해당 함수는 안에 작성한 callback 이 컴포넌트 실행시점에 실행되지않고, deps 시점에 실행되도록 한다


- React 는 Vue 와 달리 라이브러리 형태이기 때문에,
  - 라우팅 관련 라이브러리를 따로 설치해 주어야한다
  - 예) react-router-dom


- react-router-dom 에서 모달을 띄웠을때도, 라우팅 경로를 변경하고 싶다면,
  - 레이아웃 라우트라는 기능들을 활용할 수 있다
  - (라우트 안에 다른 라우트를 품고있는 개념)
  - 즉, 해당 레이아웃 라우트안에 정의한 라우트들을 품고 있는 개념이다
  - children 프로퍼티를 통해서, react-router-dom 은 중첩된 레이아웃 구조를 가질 수 있다 
  - 이런 방식으로 route 를 설정하여, 동일레이아웃에 컨텐츠만 갈아끼도록 라우팅을 설정할 수 있다 


- 또한 react-route-dom 을 사용할경우, 해당 라우터로 라우팅될때, 실행할 함수( loader )를 설정할 수 있다
  - 이때, 해당 함수가 반환하는 값이 Promise 객체라면, Promise 를 해결한 후 element 를 렌더링한다
  - 또한, 해당 함수에서 반환하는 값을 사용하려면 useLoaderData 라는 hook 을 제공해주는데, 이 hook 을 이용하여, 데이터를 불러올 수 있다
  - 그리고, 이 hook 은 컴포넌트 함수 내부에서 사용할 수 있다


- react-route-dom 에 loader 를 추가한 것처럼, action 도 추가할 수 있다.
  - 해당 action 으로 form 의 데이터를 전송할때, 전송을 취소하고, action 함수를 실행한다
  - ( 브라우저 기본 submit 을 막고, 해당 action 함수를 실행시킬 수 있다 )
  - 대신, action 으로 form 데이터를 가로채려면, react-route-dom 의 내장 컴포넌트인 <From /> 컴포넌트를 이용해야 한다


- 참고로, 이 action 으로 가로채는 동작은 클라이언트에서 일어나기 때문에, 서버쪽일과는 무관하다
- react-router-dom 등을 사용하면, 컴포넌트 상태관리가 매우 간편해지고, 코드가 편해지는 경험을 할 수 있다